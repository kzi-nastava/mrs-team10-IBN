<div class="container">
  <div class="content">
    <div class="left-section">
      <h1>Update Location</h1>
      <input
        type="text"
        [(ngModel)]="address"
        placeholder="Enter address or click on map"
        class="address-input"
      />

      <p>Select your location on the map or type your address</p>

      <button
        class="form-button-one"
        type="button"
        (click)="updateLocation()"
        [disabled]="!address"
      >
        {{ isLoading ? 'Updating...' : 'Update Location' }}
      </button>

      <div class="driver-status-container">
        <div class="driver-status">
          <div class="status-indicator" [style.background-color]="getStatusColor()">
            @if (isDriverActive) {
              <div class="pulse-ring"></div>
            }
          </div>
          <span class="status-text">{{ getStatusText() }}</span>
        </div>
        <button
          type="button"
          class="toggle-status-btn"
          [class.active]="isDriverActive"
          (click)="goOnline()"
        >
          {{ isDriverActive ? 'Go Offline' : 'Go Online' }}
        </button>
      </div>
    </div>

    <div class="map-container">
      <app-map
        [interactive]="true"
        [showRemoveButton]="true"
        (locationAdded)="onLocationSelected($event)"
      >
      </app-map>
    </div>
  </div>
  @if (successMessage) {
    <div class="success">
      {{ successMessage }}
    </div>
  }
  @if (errorMessage) {
    <div class="error">
      {{ errorMessage }}
    </div>
  }
</div>
